<div class="container">
    <div class="card">
        <div class="content-header">
            <div class="row main">
                <div class="col-md-12">
                    <h2 class="text-left head mt-3 ml-2">ADD USERS</h2>
                </div>
            </div>
        </div>
        <div class="text-center">
            <p>Current Plan</p>
        </div>
        <div class="container-fluid">
            <div class="row row-border text-white">
                <div class="col-md-4  text-center ">
                    <p>Account Created on </p>
                    {{ CreatedDate | date : "MMMM d, y"}}
                </div>
                <div class="col-md-4 border-left text-center ">
                    <p>{{ RemainingDate}} days </p>
                    <p>days Remaining in your trial period</p>
                </div>
                <div class="col-md-4  border-left text-center ">
                    <p>{{ Recruiters}} Recruiter(s)</p>
                    <p>For the selected plan</p>
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-6 text-right">
                <button class="btn btn-wdth text-white btn-sm" (click)="addUser()">Add user</button>
            </div>
            <div class="col-md-6 text-left">
                <button class="btn btn-wdth text-white btn-sm" (click)="addRole()">Add Role</button>
            </div>
        </div>

        <div class="section">
            <div class="container">
                <div class="row pt-4">
                    <div class="col md-8 ">
                        <p>Displaying {{ displayedUsers }} of {{ totalUsers }} User Accounts</p>
                    </div>
                    <div class="col md-4 text-right">
                        <div class="form-group">
                            <label for="search">Search:</label>
                            <input type="text" class="form-control1 ml-2 mr-2" id="search" placeholder="Search...">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="table-container">
                            <table class="table text-center">
                                <thead>
                                    <tr>
                                        <th>First_Name</th>
                                        <th>Last_Name</th>
                                        <th>User_Email</th>
                                        <th>Dice_Allocated</th>
                                        <th>Dice_Used</th>
                                        <th>CB_Allocated</th>
                                        <th>CB_Used</th>
                                        <th>Role</th>
                                        <th>Lead</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let User_Account of User_Accounts">
                                        <td>{{ User_Account.First_Name }}</td>
                                        <td>{{ User_Account.Last_Name }}</td>
                                        <td>{{ User_Account.User_Email }}</td>
                                        <td>{{ User_Account.Dice_Allocated }}</td>
                                        <td>{{ User_Account.Dice_Used }}</td>
                                        <td>{{ User_Account.CB_Allocated }}</td>
                                        <td>{{ User_Account.CB_Used }}</td>
                                        <td>{{ User_Account.Role }}</td>
                                        <td>{{ User_Account.Lead }}</td>
                                        <td>
                                            <div><button class="btn btn-light" (click)="enterEditMode()"><i
                                                        class="fa fa-edit fa-fw mr-2"></i></button>
                                                <button class="btn btn-light" (click)="deleteAccount()"><i
                                                        class="fa fa-trash fa-fw ml-2 mr-2"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="!isEditMode">
    <div *ngIf="showAddUser" id="adduser" class="modal2 align-center">

        <div class="modal-content2 justify-content-center ">
            <div>
                <button type="button" class="close close-modal" (click)="cancelAddUser()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="form">
                <div>
                    <h2 class="text-center">Add User</h2>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <label class="text-center p">First Name*</label>
                        <input type="text" class="form-control" id="name" placeholder="User Name">
                    </div>
                    <div class="col-md-4">
                        <label class="text-center p">Last Name*</label>
                        <input type="text" class="form-control" id="name" placeholder="User Name">
                    </div>
                    <div class="col-md-4">
                        <label class="text-center p">Email ID*</label>
                        <input type="text" class="form-control" id="name" placeholder="User Name">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-4">
                        <div class="form-group text-center">
                            <label class="text-center p">Role</label>
                            <select name="Role" id="Role" class="form-control">
                                <option selected="selected" value="0">--Select Role--</option>
                                <option value="1">Admin</option>
                                <option value="2">HR</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-8 justify-content-left">
                        <label class="text-center p">Multi Organization</label>
                        <div class="form-group text-center mt-2">
                            <div class="form-check" style="display: inline-block;">
                                <input class="form-check-input" type="radio" name="flexRadio" id="Radio1">
                                <label class="p">Yes</label>
                            </div>
                            <div class="form-check" style="display: inline-block;">
                                <input class="form-check-input" type="radio" name="flexRadio" id="Radio2" checked>
                                <label class="p">No</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group text-center" id="dice" style="display:block;">
                            <label class="text-center p">Dice Credits</label>
                            <input name="DiceCredits" type="number" id="DiceCredits" value="0"
                                class="form-control text-left" placeholder="Dice Credits">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group text-center" id="dice" style="display:block;">
                            <label class="text-center p">CB Credits</label>
                            <input name="CBCredits" type="number" id="CBCredits" value="0"
                                class="form-control text-left" placeholder="CB Credits">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group text-center" style="display: block">
                            <label class="text-center p">Credits assigned per</label>
                            <select name="credits" id="credits" class="form-control form-select-sm text-left"
                                aria-hidden="true">
                                <option selected="selected" value="1">Days</option>
                                <option value="2">Monthly</option>
                                <option value="3">weekly</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <label class="text-center p">Team Lead</label>
                        <div class=" flex text-center">
                            <p-multiSelect [options]="Teamlead" [(ngModel)]="selectedTeamlead" defaultLabel="Teamlead"
                                optionLabel="name" (onSearch)="onTeamleadSearch($event)" [filter]="true" display="chip"
                                style="width: 300px;">
                            </p-multiSelect>
                        </div>
                    </div>
                    <div class="col-md-4  justify-content-center">
                        <label class="text-center p">Corporate Documents</label>
                        <div class="form-group d-flex text-center">
                            <div class="form-check" style="display: inline-block;">
                                <input class="form-check-input" type="radio" name="flexRadio" id="Radio3">
                                <label class="p">Yes</label>
                            </div>
                            <div class="form-check" style="display: inline-block;">
                                <input class="form-check-input" type="radio" name="flexRadio" id="Radio4" checked>
                                <label class="p">No</label>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4 justify-content-center">
                        <label class="text-center p">Tracker</label>
                        <div class="form-group d-flex text-center">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadio" id="Radio5">
                                <label class="form-check-label p" for="Radio5">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadio" id="Radio6" checked>
                                <label class="form-check-label p" for="Radio6">No</label>
                            </div>
                        </div>
                    </div>


                </div>
            </div>

            <div class="row">
                <div class="col-md-12 d-flex justify-content-center">
                    <h2>Access</h2>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-md-12 d-flex justify-content-center">
                    <div class="d-flex justify-content-center">
                        <table class="table justify-content-center">
                            <thead>
                                <tr>
                                    <th class="text-center pull-left">Contents</th>
                                    <th class="text-center pull-right">Assigned</th>
                                    <th class="text-center pull-right">Team</th>
                                    <th class="text-center pull-right">All</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of tableData">
                                    <td class="td-width text-center">{{ item.contents }}</td>
                                    <td class="td-width text-center"><input type="checkbox"
                                            [(ngModel)]="item.assigned" />
                                    </td>
                                    <td class="td-width text-center"><input type="checkbox" [(ngModel)]="item.team" />
                                    </td>
                                    <td class="td-width text-center"><input type="checkbox" [(ngModel)]="item.all" />
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="d-flex">
                    <button class="btn btn-bgcolor text-white mr-5" (click)="cancelAddUser()">Cancel</button>
                    <button class="btn btn-bgcolor text-white" (click)="confirmAddUser()">Add</button>
                </div>
            </div>
        </div>
    </div>
</div>


<div *ngIf="isEditMode" id="edituser" class="modal3 align-center">

    <div class="modal-content3 justify-content-center ">
        <div>
            <button type="button" class="close close-modal" (click)="exitEditMode()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="form">
            <div>
                <h2 class="text-center">{{ isEditMode ? 'Edit User' : 'Add User' }}</h2>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="text-center p">First Name*</label>
                    <input type="text" class="form-control" id="name" placeholder="User Name"
                        [(ngModel)]="user.First_Name" [disabled]="!isEditMode">
                </div>
                <div class="col-md-4">
                    <label class="text-center p">Last Name*</label>
                    <input type="text" class="form-control" id="name" placeholder="User Name"
                        [(ngModel)]="user.Last_Name" [disabled]="!isEditMode">
                </div>
                <div class="col-md-4">
                    <label class="text-center p">Email ID*</label>
                    <input type="text" class="form-control" id="name" placeholder="EmailId"
                        [(ngModel)]="user.User_Email" [disabled]="!isEditMode">
                </div>
            </div>
            <div class="row mt-2">
                <div class="col-md-4">
                    <div class="form-group text-center">
                        <label class="text-center p">Role</label>
                        <select name="Role" id="Role" class="form-control" [(ngModel)]="user.Role"
                            [disabled]="!isEditMode">
                            <option selected="selected" value="0">--Select Role--</option>
                            <option value="1">Admin</option>
                            <option value="2">HR</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-8 justify-content-left">
                    <label class="text-center p">Multi Organization</label>
                    <div class="form-group text-center mt-2">
                        <div class="form-check" style="display: inline-block;">
                            <input class="form-check-input" type="radio" name="flexRadio" id="Radio1" value="true"
                                [(ngModel)]="user.multiOrg" [disabled]="!isEditMode">
                            <label class="p">Yes</label>
                        </div>
                        <div class="form-check" style="display: inline-block;">
                            <input class="form-check-input" type="radio" name="flexRadio" id="Radio2" value="false"
                                [(ngModel)]="user.multiOrg" [disabled]="!isEditMode">
                            <label class="p">No</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group text-center" id="dice" style="display:block;">
                        <label class="text-center p">Dice Credits</label>
                        <input name="DiceCredits" type="number" id="DiceCredits" value="0"
                            class="form-control text-left" placeholder="Dice Credits" [(ngModel)]="user.DiceCredits"
                            [disabled]="!isEditMode">
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group text-center" id="dice" style="display:block;">
                        <label class="text-center p">CB Credits</label>
                        <input name="CBCredits" type="number" id="CBCredits" [(ngModel)]="user.CBCredits" value="0"
                            class="form-control text-left" placeholder="CB Credits" [disabled]="!isEditMode">
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group text-center" style="display: block">
                        <label class="text-center p">Credits assigned per</label>
                        <select name="credits" id="credits" class="form-control form-select-sm text-left"
                            aria-hidden="true" [(ngModel)]="user.creditsAssignedPer" [disabled]="!isEditMode">
                            <option selected="selected" value="1">Days</option>
                            <option value="2">Monthly</option>
                            <option value="3">weekly</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="text-center p">Team Lead</label>
                    <div class="flex text-center">
                        <p-multiSelect [options]="Teamlead" [(ngModel)]="selectedTeamlead" defaultLabel="Teamlead"
                            optionLabel="name" (onSearch)="onTeamleadSearch($event)" [filter]="true" display="chip"
                            style="width: 300px;" [disabled]="!isEditMode">
                        </p-multiSelect>
                    </div>
                </div>

                <div class="col-md-4 justify-content-center">
                    <label class="text-center p">Corporate Documents</label>
                    <div class="form-group d-flex text-center">
                        <div class="form-check" style="display: inline-block;">
                            <input class="form-check-input" type="radio" name="corporateDocs" id="Radio3" value="true"
                                [(ngModel)]="user.corporateDocs" [disabled]="!isEditMode">
                            <label class="p">Yes</label>
                        </div>
                        <div class="form-check" style="display: inline-block;">
                            <input class="form-check-input" type="radio" name="corporateDocs" id="Radio4" value="false"
                                [(ngModel)]="user.corporateDocs" [disabled]="!isEditMode">
                            <label class="p">No</label>
                        </div>
                    </div>
                </div>


                <div class="col-md-4 justify-content-center">
                    <label class="text-center p">Tracker</label>
                    <div class="form-group d-flex text-center">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="tracker" id="Radio5" value="true"
                                [(ngModel)]="user.tracker" [disabled]="!isEditMode">
                            <label class="form-check-label p" for="Radio5">Yes</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="tracker" id="Radio6" value="false"
                                [(ngModel)]="user.tracker" [disabled]="!isEditMode">
                            <label class="form-check-label p" for="Radio6">No</label>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-md-12 d-flex justify-content-center">
                <h2>Access</h2>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-12 d-flex justify-content-center">
                <div class="d-flex justify-content-center">
                    <table class="table justify-content-center">
                        <thead>
                            <tr>
                                <th class="text-center pull-left">Contents</th>
                                <th class="text-center pull-right">Assigned</th>
                                <th class="text-center pull-right">Team</th>
                                <th class="text-center pull-right">All</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of tableData">
                                <td class="td-width text-center">{{ item.contents }}</td>
                                <td class="td-width text-center"><input type="checkbox" [(ngModel)]="item.assigned" />
                                </td>
                                <td class="td-width text-center"><input type="checkbox" [(ngModel)]="item.team" /></td>
                                <td class="td-width text-center"><input type="checkbox" [(ngModel)]="item.all" /></td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
            <div class="d-flex">
                <button class="btn btn-bgcolor text-white mt-5 mr-5" (click)="exitEditMode()">Cancel</button>
                <button class="btn btn-bgcolor text-white mt-5" (click)="saveEditChanges()">Save</button>
            </div>
        </div>
    </div>

</div>


<div *ngIf="showAddRole" id="addrole" class="modal1 align-center">

    <div class="modal-content1 justify-content-center ">
        <div>
            <button type="button" class="close close-modal" (click)="cancelAddRole()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>


        <div>
            <h2 class="text-center">Add Role</h2>
            <p class="text-center p">Role Name*</p>
            <input type="text" class="form-control form-control-sm" id="name" placeholder="Role Name">
        </div>
        <br>
        <div class="d-flex justify-content-center">
            <h2 class="text-center">Page Access</h2>
        </div>
        <div class="d-flex">
            <table class="table">
                <thead>
                    <tr>
                        <th class="th text-center pull-left">Contents</th>
                        <th class="th text-center pull-right">Full Access</th>
                        <th class="th text-center pull-right">View Only</th>
                    </tr>
                </thead>               
                <tr *ngFor="let item of tableData1">
                    <td class="td-width text-center">{{ item.contents1 }}</td>
                    <td class="td-width text-center"><input type="checkbox" [(ngModel)]="item.viewonly" />
                    </td>
                    <td class="td-width text-center"><input type="checkbox" [(ngModel)]="item.fullaccess" /></td>
                </tr>

            </table>
        </div>
        <div class="d-flex justify-content-center">
            <button class="btn btn-wdth btn-sm btn-bgcolor text-white mr-5" (click)="cancelAddRole()">Cancel</button>
            <button class="btn btn-wdth btn-sm btn-bgcolor text-white" (click)="confirmAddRole()">Add</button>
        </div>
    </div>
</div>


<div *ngIf="showConfirmationDialog" id="confirmationdialog" class="modal align-center">
    <div class="modal-content justify-content-center ">
        <div>
            <button type="button" class="close close-modal" (click)="cancelDelete()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <h2 class="text-center"><u>Delete Account</u></h2>
        <p class="text-center">Are you sure you want to delete this Account?</p><br>
        <div class="d-flex justify-content-center">
            <button class="btn btn-wdth btn-sm btn-bgcolor text-white mr-3" (click)="confirmDelete()">Delete</button>
            <button class="btn btn-wdth btn-sm btn-bgcolor text-white ml-3" (click)="cancelDelete()">Cancel</button>
        </div>
    </div>
</div>